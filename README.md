# 从大规模的GPS轨迹中自动生成道路地图

## 介绍

本仓库实现一个从大规模GPS轨迹中自动生成道路地图的方法。该算法属于道路地图生成算法中的核密度估计算法。具有运算速度快，受噪声影响小等优点。但是无法精确的刻画地图的细节。


## 原理

从实现上来看，算法可以理解为一个先栅格化再矢量化的过程。在栅格化阶段，遍历每一条轨迹，如果轨迹经过一个栅格则将栅格的值加一。而后对栅格化后的图像进行高斯模糊以消除噪声的影响，然后对高斯模糊后的图像进行阈值化，对阈值化的结果进行骨架化，得到一个像元宽的道路骨架。

矢量化步骤则是为了将道路骨架转化为矢量的道路数据。矢量化的核心是确定路口的位置，论文采用一种“燃烧”算法确定出交叉口像元，再确定路段将交叉口连接起来。

## 例子

![例子](https://github.com/zhuang-hao-ming/automate_generation_of_road_netowrk/blob/master/example.jpg)


## 使用

先运行`trj_to_raster.py`完成栅格化操作，再运行`combustion.py`完成矢量化操作得到最后的结果。
前一个脚本的输出是后一个脚本的输入。输入文件是一个shp文件，其中的每一个feature代表一条轨迹，程序直接使用轨迹的几何信息，对属性信息没有要求。

```
python trj_to_raster.py
python combustion.py
```
